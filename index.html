<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>fluxels | Pixels in Flux</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css" media="all" />
    <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
  </head>

  <body onload="main()">
    <div class="overlay">
      <h1>f l u x e l s</h1>

      <h2>
        pixels in flux
        <span><a href="http://jameschevalier.us" target="_blank">by Martinis &amp; Greed</a></span>
      </h2>
    </div>

    <canvas id="canvas">

    <script type="text/javascript">
      function main() {
        var canvas    = document.getElementById('canvas');
        canvas.width  = document.body.clientWidth;
        canvas.height = document.body.clientHeight;
        var ctx       = canvas.getContext('2d');
        var cw        = canvas.width;
        var ch        = canvas.height;
        var id        = ctx.getImageData(0, 0, 1, 1);
        var start     = null;

        ctx.clearRect(0, 0, cw, ch);
        draw(cw, ch, ctx);
      }

      function draw(cw, ch, ctx) {
        requestAnimationFrame(function(){
            draw(cw, ch, ctx);
        });

        for (var i = 0; i < 10000; ++i) {
          var x = Math.random() * (cw - 0);
          var y = Math.random() * (ch - 0);
          var r = Math.floor(Math.random() * 256);
          var g = Math.floor(Math.random() * 256);
          var b = Math.floor(Math.random() * 256);

          ctx.fillStyle = 'rgb(' + r + ',' + g + ',' + b + ')';
          ctx.fillRect(x, y, 1, 1);
        }
      }

      document.body.addEventListener('click', function() {
        $('.overlay').toggle();
      }, false);
    </script>
  </body>
</html>
